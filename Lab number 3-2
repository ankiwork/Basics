#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define M 6  //Размер массива MxM
#define K M / 2  //Половина массива
#define R 1  //Верхний предел рандомного числа(от 1 до R)
#define T M - 1  //Последний "Индекс" массива

int summ(int a[M][M], int b) {  //Функция подсчёта суммы в отдельных строках правой области массива
    
    int i, j;  //Объявление счёчтиков для прохода по массиву
    int sum = 0;  //Обявление переменной для подсчёта суммы правой области
    
    for (i = 0; i < M; i++) {  //Проход по строкам массива
        
        if(b < K) {  //Если индекс строки меньше половины длины массива "M", то выполняет код для верхней половины
            
            if (i == b) {  //Проход только по нужной строке
                
                for (j = M; j > T - i; j--) {  //Проход по столбцавём массива
            
                    sum += a[i][j];  //Общая сумма всех чисел строки правой области
                    
                }
                
            }
            
        }
        
        if (b >= K) {  //Если индекс строки больше половины длины массива "M", то выполняет код для нижней половины
                
            if (i == b) {  //Проход только по нужной строке
                    
                for (j = i; j < M; j++) {  //Проход по столбцам массива
                        
                    sum += a[i][j];  //Общая сумма всех чисел строки правой области
                    
                }
                    
            }
                
        }
            
    }
        
    return sum;  //Возвращает в фуекцию "main" значене суммы "sum" из функции "summ"
    
}

int main(int argc, const char * argv[]) {  //Главная функция
    
    srand((unsigned int)time(NULL));  //Обновление чисел для рандомайзера
    
    int a[M][M];  //Объявление массива
    int i, j;  //Объявление счёчтиков для заполнения массива
    int sum = 0;  //Обявление переменной для вывода значения, полученного из функции "summ"
    int b;  //Индекс строки, вводимый с клавиатуры
    
    printf("Введите индекс строки: "); scanf("%d", &b);
    
    printf("\n");  //Отступ для красоты
    
    for (i = 0; i < M; i++) {  //Заполнение строк массива
        
        for (j = 0; j < M; j++) {  //Заполнение столбцов массива
            
            a[i][j] = 1 + rand() % R;  //Заполнение случайными числами от 1 до 9
            printf("%5d", a[i][j]);  //Вывод столбцов
            
            sum = summ(a, b);  //Дублирование массива в функцию "summ", для нахождения в ней суммы правой области
            
        }
        
        printf("\n\n");  //Переход на новую строку
        
    }
    
    printf("Сумма строки: %d\n\n", sum);  //Вывод суммы в консоль из функции "summ"
    
    return 0;  //Возвращает 0
    
}
