#include <stdio.h>
#include <string.h>

#define N 100  //Ограничение в N символов

int FindWords(char *pS, char s) {  //Функция поиска
    
    int i = 0;  //Счётчик пробелов
    
    while((pS = strchr(pS, s))) {  //"strchr" - подсчёт количества символов строки "pS" со значением 's'; Возвращает указатель на первое вхождение строки 's' в строку "pS"
        
        i++;  //Прибавлять '1' при нахождениее последующего указанного символа
        pS++;  //Переход к следующему символу через указатель
        
    }
    
    return i;  //Вернуть кол-во пробелов
    
}

int *ReturnMassivePointer(char *pS, char s, int w) {  //Функция возврата массива указателей на 1 букву каждого слова
    
    int i;  //Счётчик для заполнения массива
    int *a[w];  //Объявление массива длинной "количества" слов
    
    for (i = 0; i < w; i++) {  //Цикл для заполения маасива адресами
        
        a[i] = &i;
        
    }
    
    return *a;  //Вернуть массив указателей
    
}


int main(int argc, const char * argv[]) {  //Главная функция
    
    char *pString = "qqq www eee rrr ttt";  //Объявление указателя с заданной строкой
    char string = ' ';  //Присвоение символа 'пробел' к переменной
    
    int i;  //Переменная для получения значения из фукнции RME
    int j;  //Счётчик для вывода указателей
    int t;  //Постоянная переменная после возврата
    
    i = FindWords(pString, string);  //Вызов функции
    t = i + 1;
    printf("Слов в строке: %d\n", t);  //Вывод результата на экран
    
    int *a[t];
    
    *a = ReturnMassivePointer(pString, string, i);  //Вызов функции
    printf("Массив указателей: [ ");
    for (j = 0; j < t; j++) {
        
        printf("%p ", a[j]);
        
    }
    printf("]\n");
    
    return 0;  //Вернуть 0
    
}
